!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.vuejsStorage=n():t.vuejsStorage=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){t.mixin({beforeCreate:function(){var t=this;"storage"in this.$options&&function(){var n=t.$options.storage;if("function"==typeof t.$options.storage&&(n=t.$options.storage()),!(n instanceof s))throw new Error('"Storage" must be a "Storage" object');t.$options.data=(0,u.default)(t.$options.data,n.get()),"watch"in t.$options||(t.$options.watch={});for(var e in n.get())!function(e){var r=function(t){};e in t.$options.watch&&(r=t.$options.watch[e]),t.$options.watch[e]=function(t){n.set(e,t),r(t)}}(e);t.$storage=n}()}})}Object.defineProperty(n,"__esModule",{value:!0}),n.Storage=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();n.install=o;var i=e(1),u=function(t){return t&&t.__esModule?t:{default:t}}(i),c=0,s=n.Storage=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.parse,o=void 0===e?JSON.parse:e,a=n.stringify,i=void 0===a?JSON.stringify:a,u=n.storage,s=void 0===u?window.localStorage:u,f=n.namespace,l=void 0===f?"vuejs-storage-"+c++:f,p=n.data,v=void 0===p?{}:p;r(this,t),this.data=v,this.parse=o,this.stringify=i,this.storage=s,this.namespace=l;var h=void 0;null!==(h=s.getItem(this.namespace))&&(this.data=this.parse(h))}return a(t,[{key:"load",value:function(){var t=void 0;null!==(t=this.storage.getItem(this.namespace))&&(this.data=(0,u.default)(this.data,this.parse(t)))}},{key:"set",value:function(t,n){1===arguments.length?this.data=t:this.data[t]=n,this.storage.setItem(this.namespace,this.stringify(this.data))}},{key:"get",value:function(t){return t?this.data[t]:this.data}},{key:"plugin",value:function(){var t=this;return function(n){t.data=n.state,t.load(),n.replaceState(t.get()),n.subscribe(function(n,e){t.set(t.data)})}}}]),t}()},function(t,n){function e(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function r(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function o(t,n){var e=E(t)||h(t)?r(t.length,String):[],o=e.length,a=!!o;for(var i in t)!n&&!k.call(t,i)||a&&("length"==i||s(i,o))||e.push(i);return e}function a(t,n,e){var r=t[n];k.call(t,n)&&v(r,e)&&(void 0!==e||n in t)||(t[n]=e)}function i(t){if(!m(t))return p(t);var n=l(t),e=[];for(var r in t)("constructor"!=r||!n&&k.call(t,r))&&e.push(r);return e}function u(t,n){return n=M(void 0===n?t.length-1:n,0),function(){for(var r=arguments,o=-1,a=M(r.length-n,0),i=Array(a);++o<a;)i[o]=r[n+o];o=-1;for(var u=Array(n+1);++o<n;)u[o]=r[o];return u[n]=i,e(t,this,u)}}function c(t,n,e,r){e||(e={});for(var o=-1,i=n.length;++o<i;){var u=n[o],c=r?r(e[u],t[u],u,e,t):void 0;a(e,u,void 0===c?t[u]:c)}return e}function s(t,n){return!!(n=null==n?$:n)&&("number"==typeof t||A.test(t))&&t>-1&&t%1==0&&t<n}function f(t,n,e){if(!m(e))return!1;var r=typeof n;return!!("number"==r?d(e)&&s(n,e.length):"string"==r&&n in e)&&v(e[n],t)}function l(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||_)}function p(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}function v(t,n){return t===n||t!==t&&n!==n}function h(t){return g(t)&&k.call(t,"callee")&&(!I.call(t,"callee")||P.call(t)==x)}function d(t){return null!=t&&b(t.length)&&!y(t)}function g(t){return j(t)&&d(t)}function y(t){var n=m(t)?P.call(t):"";return n==S||n==O}function b(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$}function m(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function j(t){return!!t&&"object"==typeof t}function w(t){return d(t)?o(t,!0):i(t)}var $=9007199254740991,x="[object Arguments]",S="[object Function]",O="[object GeneratorFunction]",A=/^(?:0|[1-9]\d*)$/,_=Object.prototype,k=_.hasOwnProperty,P=_.toString,I=_.propertyIsEnumerable,M=Math.max,E=Array.isArray,C=function(t){return u(function(n,e){var r=-1,o=e.length,a=o>1?e[o-1]:void 0,i=o>2?e[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,i&&f(e[0],e[1],i)&&(a=o<3?void 0:a,o=1),n=Object(n);++r<o;){var u=e[r];u&&t(n,u,r,a)}return n})}(function(t,n){c(n,w(n),t)});t.exports=C}])});
//# sourceMappingURL=vuejs-storage.min.js.map