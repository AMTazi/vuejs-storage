!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vuejsStorage=e()}(this,function(){"use strict";function t(t){var e=t.storage,n=void 0===e?window.localStorage:e,r=t.stringify,i=void 0===r?JSON.stringify:r,o=t.parse,a=void 0===o?JSON.parse:o,s=t.namespace;return{set:function(t){n.setItem(s,i(t))},get:function(){return a(n.getItem(s))},exists:function(){return null!=n.getItem(s)}}}function e(t,e,n){for(var r=e.replace(/\[([^[\]]*)\]/g,".$1.").split(".").filter(function(t){return""!==t}),i=t,o=0;o<r.length-1;o++){var a=r[o];i.hasOwnProperty(a)||(i[a]={}),i=i[a]}i[r[r.length-1]]=n}function n(t,n,r){e(t,r,function(t,e){return e.replace(/\[([^[\]]*)\]/g,".$1.").split(".").filter(function(t){return""!==t}).reduce(function(t,e){return t&&t[e]},t)}(n,r))}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var a=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var f in n=Object(arguments[c]))i.call(n,f)&&(s[f]=n[f]);if(r){a=r(n);for(var u=0;u<a.length;u++)o.call(n,a[u])&&(s[a[u]]=n[a[u]])}}return s};var s=function(e){return function(e){var r=t(e),i=e.keys,o=e.merge;return function(t){var e=null;if(r.exists())e=r.get();else{for(var s={},c=0,f=i;c<f.length;c++){var u=f[c];n(s,t.state,u)}e=s,r.set(e)}t.replaceState(o?o(t.state,e):a(t.state,e)),t.subscribe(function(t,e){var o={};i.forEach(function(t){return n(o,e,t)}),r.set(o)})}}(e)};return s.install=function(r){r.mixin({created:function(){if("storage"in this.$options){for(var r=this.$options.storage,i=r.keys,o=r.merge,s=t(r),c={},f=0,u=i;f<u.length;f++)n(c,this,u[f]);var l=null;if(s.exists())l=s.get();else{for(var g={},p=0,v=i;p<v.length;p++)n(g,c,v[p]);l=g,s.set(l)}l=o?o(c,l):a(c,l);for(var h=function(t){n(d,l,t),d.$watch(t,function(n){e(l,t,n),s.set(l)})},d=this,b=0,y=i;b<y.length;b++)h(y[b])}}})},s});
//# sourceMappingURL=vuejs-storage.min.js.map
